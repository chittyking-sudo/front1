# ç‹¬ç«‹å·¥ä½œå®¤å±•ç¤ºç½‘ç»œ - Studio Network

## é¡¹ç›®æ¦‚è¿°

ç‹¬ç«‹å·¥ä½œå®¤å±•ç¤ºç½‘ç»œæ˜¯ä¸€ä¸ªè·¨è¡Œä¸šç‹¬ç«‹å·¥ä½œå®¤çš„ç†å¿µèšåˆå±•ç¤ºå¹³å°ï¼Œè®©ç›¸ä¼¼ç†å¿µä½†ä¸åŒå“ç±»çš„åˆ›ä½œè€…äº’ç›¸å‘ç°ã€‚

### æ ¸å¿ƒç‰¹ç‚¹

- âœ… **è·¨è¡Œä¸šèšåˆ** - æœè£…/é™¶è‰º/æ’ç”»/æœ¨å·¥ç­‰ä¸åŒé¢†åŸŸå·¥ä½œå®¤æ±‡èšä¸€å¤„
- âœ… **æŒ‰ç†å¿µåˆ†ç±»** - æç®€ä¸»ä¹‰/ä¾˜å¯‚ç¾å­¦/æ‰‹å·¥æ¸©åº¦ç­‰ç†å¿µæ ‡ç­¾
- âœ… **æ— é—¨æ§›å±•ç¤º** - å…è´¹æ³¨å†Œï¼Œç¤¾åŒºå…±å»º
- âœ… **å®Œæ•´å±•ç¤º** - ä¸åªæ˜¯æˆå“ï¼Œå¯å±•ç¤ºåˆ›ä½œè¿‡ç¨‹å’Œç†å¿µ
- âœ… **å“åº”å¼è®¾è®¡** - å®Œç¾æ”¯æŒæ‰‹æœºå’Œç”µè„‘æµè§ˆ

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Hono** - è½»é‡çº§ Web æ¡†æ¶
- **Cloudflare Pages** - è¾¹ç¼˜éƒ¨ç½²å¹³å°
- **TailwindCSS** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„ JavaScript

### åç«¯æŠ€æœ¯æ ˆ
- **Cloudflare D1** - SQLite è¾¹ç¼˜æ•°æ®åº“
- **Cloudflare Workers** - æ— æœåŠ¡å™¨è¾¹ç¼˜è®¡ç®—

### æ•°æ®æ¨¡å‹
- **studios** - å·¥ä½œå®¤è¡¨
- **tags** - ç†å¿µæ ‡ç­¾è¡¨
- **studio_tags** - å·¥ä½œå®¤æ ‡ç­¾å…³è”è¡¨
- **images** - ä½œå“å›¾ç‰‡è¡¨

## åŠŸèƒ½ç‰¹æ€§

### ç‰ˆæœ¬1 (MVP) - å½“å‰ç‰ˆæœ¬ âœ…

#### å‰å°å±•ç¤º
- âœ… é¦–é¡µï¼ˆç†å¿µæ ‡ç­¾åŒº + å“ç±»ç­›é€‰ + å·¥ä½œå®¤ç½‘æ ¼å±•ç¤ºï¼‰
- âœ… å·¥ä½œå®¤è¯¦æƒ…é¡µï¼ˆå®Œæ•´ä¿¡æ¯ + ä½œå“å±•ç¤º + ç›¸ä¼¼æ¨èï¼‰
- âœ… ç­›é€‰é¡µé¢ï¼ˆå¤šæ ‡ç­¾ç­›é€‰ + å…¨æ–‡æœç´¢ + æ’åºï¼‰

#### åå°ç®¡ç†
- âœ… å·¥ä½œå®¤åˆ—è¡¨ï¼ˆæŸ¥çœ‹æ‰€æœ‰å·¥ä½œå®¤ï¼‰
- âœ… æ·»åŠ å·¥ä½œå®¤ï¼ˆè¡¨å•æäº¤ï¼‰
- âœ… ç¼–è¾‘å·¥ä½œå®¤ï¼ˆä¿®æ”¹ä¿¡æ¯ï¼‰
- âœ… åˆ é™¤å·¥ä½œå®¤ï¼ˆè½¯åˆ é™¤ï¼‰

#### APIæ¥å£
- âœ… `GET /api/studios` - è·å–å·¥ä½œå®¤åˆ—è¡¨ï¼ˆæ”¯æŒç­›é€‰ï¼‰
- âœ… `GET /api/studios/:slug` - è·å–å·¥ä½œå®¤è¯¦æƒ…
- âœ… `GET /api/tags` - è·å–æ‰€æœ‰æ ‡ç­¾
- âœ… `GET /api/search` - å…¨å±€æœç´¢

## å¿«é€Ÿå¼€å§‹

### æœ¬åœ°å¼€å‘

1. **å®‰è£…ä¾èµ–**
```bash
npm install
```

2. **æ„å»ºé¡¹ç›®**
```bash
npm run build
```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
# ä½¿ç”¨ PM2 å¯åŠ¨ï¼ˆæ¨èï¼‰
pm2 start ecosystem.config.cjs

# æˆ–ç›´æ¥è¿è¡Œ
npm run dev:d1
```

4. **è®¿é—®åº”ç”¨**
- **Sandboxå…¬ç½‘åœ°å€**: https://3000-ilnel7c8p64wyz5cahyk6-3844e1b6.sandbox.novita.ai
- æœ¬åœ°åœ°å€: http://localhost:3000

### ç›®å½•ç»“æ„

```
webapp/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/         # Reactç»„ä»¶
â”‚   â”‚   â””â”€â”€ Layout.tsx      # é¡µé¢å¸ƒå±€
â”‚   â”œâ”€â”€ db/                 # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ init.ts         # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ queries.ts      # æ•°æ®åº“æŸ¥è¯¢å‡½æ•°
â”‚   â”œâ”€â”€ routes/             # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ api.tsx         # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ admin.tsx       # ç®¡ç†åå°è·¯ç”±
â”‚   â”‚   â””â”€â”€ frontend.tsx    # å‰å°è·¯ç”±
â”‚   â”œâ”€â”€ views/              # é¡µé¢è§†å›¾
â”‚   â”‚   â”œâ”€â”€ HomePage.tsx            # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ StudioDetailPage.tsx   # å·¥ä½œå®¤è¯¦æƒ…é¡µ
â”‚   â”‚   â”œâ”€â”€ SearchPage.tsx          # ç­›é€‰é¡µ
â”‚   â”‚   â”œâ”€â”€ AdminDashboard.tsx      # ç®¡ç†åå°é¦–é¡µ
â”‚   â”‚   â””â”€â”€ AdminStudioForm.tsx     # å·¥ä½œå®¤è¡¨å•
â”‚   â”œâ”€â”€ index.tsx           # ä¸»å…¥å£
â”‚   â”œâ”€â”€ renderer.tsx        # HTMLæ¸²æŸ“å™¨
â”‚   â””â”€â”€ types.ts            # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ public/
â”‚   â””â”€â”€ static/
â”‚       â””â”€â”€ style.css       # è‡ªå®šä¹‰æ ·å¼
â”œâ”€â”€ migrations/             # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â””â”€â”€ 0001_initial_schema.sql
â”œâ”€â”€ seed.sql                # ç¤ºä¾‹æ•°æ®
â”œâ”€â”€ ecosystem.config.cjs    # PM2é…ç½®
â”œâ”€â”€ wrangler.jsonc          # Cloudflareé…ç½®
â”œâ”€â”€ package.json            # é¡¹ç›®é…ç½®
â””â”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
```

## æ•°æ®ç®¡ç†

### é¢„è®¾æ ‡ç­¾

ç³»ç»Ÿå·²è‡ªåŠ¨åˆ›å»ºä»¥ä¸‹ç†å¿µæ ‡ç­¾ï¼š

**ç†å¿µæ ‡ç­¾ (Concept)**
- æç®€ä¸»ä¹‰ - å°‘å³æ˜¯å¤šï¼Œè¿½æ±‚çº¯ç²¹ä¸ç®€æ´
- ä¾˜å¯‚ç¾å­¦ - ä¸å®Œç¾ä¹‹ç¾ï¼Œæ—¶å…‰çš„ç—•è¿¹
- æœªæ¥æ„Ÿ - ç§‘æŠ€ä¸è®¾è®¡çš„å‰ç»èåˆ
- å¤å¤æ€€æ—§ - æ—¶å…‰å°è®°ï¼Œç»å…¸é‡ç°
- æ‰‹å·¥æ¸©åº¦ - æ‰‹ä½œç—•è¿¹ï¼ŒåŒ äººç²¾ç¥
- ä¸œæ–¹ç¾å­¦ - ä¸­å¼æ„å¢ƒï¼Œç¦…æ„ç©ºé—´
- è‡ªç„¶ä¸»ä¹‰ - å¤©ç„¶ææ–™ï¼Œè¿”ç’å½’çœŸ
- å·¥ä¸šé£ - ç²—çŠ·è´¨æ„Ÿï¼Œæœºæ¢°ç¾å­¦

**ææ–™æ ‡ç­¾ (Material)**
- é™¶ç“·ã€æœ¨æã€å¸ƒè‰ºã€é‡‘å±

### æ·»åŠ å·¥ä½œå®¤

è®¿é—®ç®¡ç†åå°æ·»åŠ å·¥ä½œå®¤ï¼š
1. è®¿é—® `/admin`
2. ç‚¹å‡»"æ·»åŠ å·¥ä½œå®¤"æŒ‰é’®
3. å¡«å†™è¡¨å•ä¿¡æ¯ï¼š
   - å·¥ä½œå®¤åç§°ï¼ˆå¿…å¡«ï¼‰
   - URLæ ‡è¯†/slugï¼ˆå¿…å¡«ï¼Œç”¨äºURLï¼‰
   - ä¸€å¥è¯ä»‹ç»ï¼ˆæœ€å¤š50å­—ï¼‰
   - å“ç±»ï¼ˆé™¶è‰º/æœè£…/æ’ç”»ç­‰ï¼‰
   - åŸå¸‚
   - å½“å‰é˜¶æ®µ
   - ç†å¿µæ ‡ç­¾ï¼ˆæœ€å¤š5ä¸ªï¼‰
   - è¯¦ç»†ä»‹ç»ï¼ˆæ”¯æŒMarkdownï¼‰
   - å°é¢å›¾ç‰‡URL
4. æäº¤ä¿å­˜

### æ•°æ®åº“å‘½ä»¤

```bash
# æŸ¥çœ‹æœ¬åœ°æ•°æ®åº“
npm run db:console:local

# é‡ç½®æœ¬åœ°æ•°æ®åº“
npm run db:reset

# åº”ç”¨è¿ç§»åˆ°ç”Ÿäº§ç¯å¢ƒ
npm run db:migrate:prod
```

## éƒ¨ç½²æŒ‡å—

### Cloudflare Pages éƒ¨ç½²

1. **å‡†å¤‡å·¥ä½œ**
   - æ³¨å†Œ Cloudflare è´¦å·
   - è·å– Cloudflare API Token

2. **åˆ›å»º D1 æ•°æ®åº“**
```bash
npx wrangler d1 create webapp-production
# å¤åˆ¶è¿”å›çš„ database_id åˆ° wrangler.jsonc
```

3. **åº”ç”¨æ•°æ®åº“è¿ç§»**
```bash
npx wrangler d1 migrations apply webapp-production
```

4. **æ„å»ºå¹¶éƒ¨ç½²**
```bash
npm run build
npm run deploy:prod
```

5. **é…ç½®åŸŸåï¼ˆå¯é€‰ï¼‰**
   - åœ¨ Cloudflare Pages Dashboard ä¸­ç»‘å®šè‡ªå®šä¹‰åŸŸå

## è®¿é—®åœ°å€

- **Sandboxç¯å¢ƒ**: https://3000-ilnel7c8p64wyz5cahyk6-3844e1b6.sandbox.novita.ai
- **ç”Ÿäº§ç¯å¢ƒ**: å¾…éƒ¨ç½²åˆ° Cloudflare Pages
- **æœ¬åœ°å¼€å‘**: http://localhost:3000

## ä¸»è¦é¡µé¢

| é¡µé¢ | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| é¦–é¡µ | `/` | ç†å¿µæ ‡ç­¾å±•ç¤º + å·¥ä½œå®¤åˆ—è¡¨ |
| å·¥ä½œå®¤è¯¦æƒ… | `/studio/:slug` | å®Œæ•´å·¥ä½œå®¤ä¿¡æ¯ + ä½œå“å±•ç¤º |
| æ¢ç´¢é¡µé¢ | `/explore` | ç­›é€‰å’Œæœç´¢å·¥ä½œå®¤ |
| ç®¡ç†åå° | `/admin` | å·¥ä½œå®¤ç®¡ç†ï¼ˆCRUDæ“ä½œï¼‰ |
| æ·»åŠ å·¥ä½œå®¤ | `/admin/new` | å·¥ä½œå®¤åˆ›å»ºè¡¨å• |
| ç¼–è¾‘å·¥ä½œå®¤ | `/admin/edit/:slug` | å·¥ä½œå®¤ç¼–è¾‘è¡¨å• |

## APIæ–‡æ¡£

### å·¥ä½œå®¤API

#### è·å–å·¥ä½œå®¤åˆ—è¡¨
```
GET /api/studios?page=1&limit=20&category=pottery&tags=minimalism,handmade&city=ä¸Šæµ·&search=keyword
```

**å‚æ•°:**
- `page` - é¡µç ï¼ˆé»˜è®¤1ï¼‰
- `limit` - æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤20ï¼Œæœ€å¤§100ï¼‰
- `category` - å“ç±»ç­›é€‰
- `tags` - æ ‡ç­¾ç­›é€‰ï¼ˆé€—å·åˆ†éš”ï¼‰
- `city` - åŸå¸‚ç­›é€‰
- `stage` - é˜¶æ®µç­›é€‰
- `search` - æœç´¢å…³é”®è¯

**å“åº”:**
```json
{
  "success": true,
  "data": [...],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 45,
    "has_more": true
  }
}
```

#### è·å–å·¥ä½œå®¤è¯¦æƒ…
```
GET /api/studios/:slug
```

**å“åº”:**
```json
{
  "success": true,
  "data": {
    "id": "...",
    "name": "å·¥ä½œå®¤åç§°",
    "slug": "studio-slug",
    "tags": [...],
    "images": [...],
    "similar_studios": [...]
  }
}
```

### æ ‡ç­¾API

#### è·å–æ‰€æœ‰æ ‡ç­¾
```
GET /api/tags?category=concept
```

**å‚æ•°:**
- `category` - æ ‡ç­¾åˆ†ç±»ï¼ˆconcept/material/stageï¼‰

### æœç´¢API

#### å…¨å±€æœç´¢
```
GET /api/search?q=æç®€&type=all&limit=10
```

**å‚æ•°:**
- `q` - æœç´¢å…³é”®è¯ï¼ˆå¿…å¡«ï¼‰
- `type` - æœç´¢ç±»å‹ï¼ˆall/studios/tagsï¼‰
- `limit` - ç»“æœæ•°é‡ï¼ˆé»˜è®¤10ï¼‰

## å¼€å‘è®¡åˆ’

### ç‰ˆæœ¬2ï¼ˆ+3å‘¨ï¼‰
- [ ] ç”¨æˆ·æ³¨å†Œ/ç™»å½•ç³»ç»Ÿ
- [ ] å·¥ä½œå®¤è®¤é¢†/ç¼–è¾‘åŠŸèƒ½
- [ ] æ”¶è—/ç‚¹èµåŠŸèƒ½
- [ ] ä¸ªäººä¸­å¿ƒé¡µé¢
- [ ] å·¥ä½œå®¤æ•°æ®çœ‹æ¿

### ç‰ˆæœ¬3ï¼ˆ+2ä¸ªæœˆï¼‰
- [ ] è´¡çŒ®å€¼ç³»ç»Ÿ
- [ ] ç¤¾åŒºæŠ•ç¥¨ç³»ç»Ÿ
- [ ] å†…å®¹å®¡æ ¸æœºåˆ¶
- [ ] æ•°æ®ç»Ÿè®¡å®Œå–„
- [ ] å»ä¸­å¿ƒåŒ–æ²»ç†

## å¸¸è§é—®é¢˜

### å¦‚ä½•é‡å¯æœåŠ¡ï¼Ÿ

```bash
# æ¸…ç†ç«¯å£
fuser -k 3000/tcp

# é‡å¯ PM2
pm2 restart webapp

# æŸ¥çœ‹æ—¥å¿—
pm2 logs webapp --nostream
```

### æ•°æ®åº“å¦‚ä½•åˆå§‹åŒ–ï¼Ÿ

æ•°æ®åº“ä¼šåœ¨é¦–æ¬¡è¯·æ±‚æ—¶è‡ªåŠ¨åˆå§‹åŒ–ï¼Œåˆ›å»ºæ‰€æœ‰å¿…è¦çš„è¡¨å’Œé¢„è®¾æ ‡ç­¾æ•°æ®ã€‚

### å¦‚ä½•ä¿®æ”¹ç«¯å£ï¼Ÿ

ä¿®æ”¹ `ecosystem.config.cjs` æ–‡ä»¶ä¸­çš„ç«¯å£é…ç½®ã€‚

### å¦‚ä½•æ·»åŠ æ–°çš„ç†å¿µæ ‡ç­¾ï¼Ÿ

1. æ–¹å¼1ï¼šé€šè¿‡æ•°æ®åº“ç›´æ¥æ’å…¥
```bash
npx wrangler d1 execute webapp-production --local --command="INSERT INTO tags (name, slug, description, category, color) VALUES ('æ–°æ ‡ç­¾', 'new-tag', 'æè¿°', 'concept', '#6366f1')"
```

2. æ–¹å¼2ï¼šåœ¨ `src/db/init.ts` ä¸­æ·»åŠ ï¼Œé‡å¯æœåŠ¡è‡ªåŠ¨åˆ›å»º

### å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰å›¾ç‰‡ï¼Ÿ

æ¨èä½¿ç”¨ä»¥ä¸‹å…è´¹å›¾åºŠæœåŠ¡ï¼š
- [Unsplash](https://unsplash.com) - é«˜è´¨é‡å…è´¹å›¾ç‰‡
- [Cloudinary](https://cloudinary.com) - å›¾ç‰‡æ‰˜ç®¡æœåŠ¡
- æˆ–ä½¿ç”¨ Cloudflare R2ï¼ˆç‰ˆæœ¬2å°†é›†æˆï¼‰

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿè¯·æŸ¥çœ‹ï¼š
- [Issues](https://github.com/yourusername/studio-network/issues) - æäº¤é—®é¢˜
- [Discussions](https://github.com/yourusername/studio-network/discussions) - è®¨è®ºåŠŸèƒ½

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

- Email: hello@studionetwork.com
- Website: www.studionetwork.com

---

**ç‹¬ç«‹å·¥ä½œå®¤å±•ç¤ºç½‘ç»œ** - è®©ç›¸ä¼¼ç†å¿µçš„åˆ›ä½œè€…äº’ç›¸å‘ç° ğŸ¨

ç”± Hono + Cloudflare Pages å¼ºåŠ›é©±åŠ¨ âš¡
